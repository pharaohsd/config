#!/bin/bash
#
# Supposed to be a VERY simple aur-download-script...
usage() {
  echo "Usage: aurdl [name]"
  echo
  echo "     xcb-util             - would download the AUR tarball of xcb-util"
  echo "     -d | --destination   - download to a specific folder"
  echo "     -h | --help          - display this :)"
  exit
}

download() {
  wget -nv http://aur.archlinux.org/packages/$pacname/$pacname.tar.gz || return 1
}

case "$1" in
  '-h'|'--help')
    usage
    ;;
  '-d'|'--destination')
    pacname=$3
    destdir=$2
    cd $destdir && download $pacname
    echo "Package succesfully saved as $pacname.tar.gz in $destdir!"
    ;;
  *)
    if [ -z "$1" ] ; then
      echo "No package specified! See --help"
      exit 1
    else 
      pacname=$1
      download $pacname
      echo "Package succesfully saved as $pacname.tar.gz!"
    fi
    ;;
esac
